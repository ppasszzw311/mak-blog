---
title: "三層式架構"
date: 2024-01-05
draft: false
tags: [物件導向設計, C#]
---

在初學程式的時候，經常會出現一個狀況，就是將所有的商業邏輯跟處理動作，全部放在一個檔案之中，初期在專案小的時候很簡便，然後在後期的維護上，隨著專案規模的增加，從而導致了許多問題，包含－
1. 難以維護
2. 難以閱讀
3. 耦合性過高，改Ａ壞Ｂ

在這個情況下，如果有一個良好的架構，便能夠提升開發與維護的效能。
那使用架構有什麼好處嗎？
> 這邊記得要多參考其他的說明，後續持續擴充
* 好處
  1. 較好形成一個規範，可做為標準化流程。
  2. 提高重用性，透過分層將相同類型的程式碼放在一塊。
  3. 團體合作的時候，能夠分層進行；開發人員只需專注於自己開發的那一層即可。
  4. 具有好的開放性、可擴充性優點。
  5. 降低程式碼之間的依賴，每層溝通是透過介面。
  6. 提高系統安全性，因為使用者需要透過 Service 層才有機會與下一層 Repository 撈取資料。
* 壞處 (有好一定也有壞)
  1. 增加了開發成本，傳統一個人負責寫到底；分層下需要多人進行合作。
  2. 調整程式可能會出現連動性；有的時候修改一個地方，會導致其他層也需要跟著調整。
  3. 相較於一條龍開發系統性能下降，原本程式可以直接透過DB撈取資料，現在需要透過中間層的轉介才能夠拿到。

在文章中提到

> 分層架構是運用最為廣泛的架構模式

![](/images/RxSrWJm.jpg)

## 簡介
三層式架構顧名思義，主要分為了三層：

1、Controller：控制層，作為接口。
2、Service：商業邏輯層，只要有關商業邏輯部分的處理全部放在這一層。
3、Repository：倉儲層，作為資料存儲的一層。
4、Common：共用層，作為存放各層會用到的相同東西。
他們之間的關係如下圖:

> 參考資料來源： https://igouist.github.io/post/2021/10/newbie-5-3-layer-architecture/
>

> https://sunnyday0932.github.io/2020/%E4%B8%89%E5%B1%A4%E5%BC%8F%E6%9E%B6%E6%A7%8B/